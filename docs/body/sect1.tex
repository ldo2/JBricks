\ProvidesFile{sect1.tex}[2003/09/19 Игра <<Кирпичики>>]

\section{Игра <<Кирпичики>>}
В этом разделе будет описана интерактивная 
компьютерная игра <<Kирпичики>>(Bricles). Она очень похожа
на игру Breakout, одну из первых коммерческих видеоигр,
получивших распространение среди пользователей компьютеров Apple II.

\subsection{Базовые компоненты игры <<Кирпичики>>}
<<Кирпичики>> --- это аркадная игра (игра для компьютерных автоматов). 
Игровое поле представляет собой прямоугольник, ограниченный двумя стенами, 
полом и потолком. На поле находится стопка кирпичей, называемая <<кучей>>.
Цель играющего заключается в том, чтобы выбить все кирпичи из кучи, попадая
в каждый из них шайбой. Шайба приводится в движение при помощи лопатки,
управляемой игроком. При движении она отражается от стен, потолка, кирпичей
(которые при этом разбиваются) и лопатки. Падая на пол, шайба выходит из игры.

Игрок получает в свое распоряжение три шайбы, первая из которых в начале
игры помещается в центр игрового поля и начинает двигаться вниз.
Игрок, управляя лопаткой с помощью клавиатуры, должен перемещать её так,
чтобы шайба отражалась от неё, а не падала на пол. Когда шайба ударяется об
лопатку, она устремляется вверх. В случае падения шайбы 
на пол она выходит из игры и заменяется на одну из оставшихся шайб. Игра
завершается проигрышем, если начальный запас шайб будет израсходован до полного
разрушения всех кирпичей.

\if{
\begin{wrapfigure}{i}[-50pt]{0.35\hsize}
\centering
\pgfimage[interpolate=true,width=0.35\hsize]{mandelbrot}
\caption{}\label{fig:mandelbrot}
\end{wrapfigure} 
}\fi

\subsection{Физические основы игры}
Во время своего движения по игровому полю шайба соприкасается с его различными 
компонентами. При этом они взаимодействуют между собой описанным ниже
образом.
\if{
\begin{figure}[ht]
\begin{center}
\includegraphics{images/p1.eps}
\end{center}
\caption{Взаимодействие шайбы с границами поля} \label{p1}
\end{figure}

\begin{figure}[ht]
\begin{center}
\includegraphics{images/p2.eps}
\end{center}
\caption{Взаимодействие шайбы с кирпичами} \label{p2}
\end{figure}
}\fi

\begin{itemize}
\item
{\bf Потолок и стены.} Шайба отражается от потолка и стен в соответствии
с законами физики без учета сил трения и тяжести, в результате чего угол
падения равен углу отражения (рис.~\ref{p1}).
\item
{\bf Пол.} Пол поглощает шайбу. Шайба, упавшая на пол, от него не отражается, а
выходит из игры.
\item
{\bf Кирпичи.} Шайба отражается от кирпича таким образом, что угол её падения
равен углу отражения. При столкновении шайбы и кирпича последний разрушается.
Обратим внимание на то, что шайба может ударять кирпич как сверху, так и 
снизу. Кирпич обладает достаточной толщиной, чтобы шайба могла попасть в
него сбоку\footnote{Реализация отскока шайбы от боковых стенок кирпича
является одним из заданий курсовой работы.} (рис.~\ref{p2}).
\item {\bf Лопатка.} Игрок использует лопатку, чтобы управлять 
движением шайбы. Шайба отскакивает от лопатки, после чего новое направление её
движения определяется двумя факторами: прежним направлением и 
той частью лопатки, о которую приходится удар. Разделим лопатку на три 
равные части и назовём {\em ближней третью} либо левую часть лопатки в случае, если
шайба попадает в неё, двигаясь слева, либо правую часть, если 
шайба двигается справа. {\em Дальняя треть} определяется аналогично, a 
{\em средней} является оставшаяся часть лопатки.
Отражение шайбы будем определять 
по следующим правилам\footnote{Данные правила не реализованы полностью в
эталонном проекте --- это является ещё одним из заданий на модификацию.}
(см. рис.~\ref{p3}):
\begin{itemize}
  \item 
    если шайба попадает в ближнюю треть лопатки, то она отражается 
    точно в противоположном направлении;
  \item
    если шайба попaдает в среднюю треть, то угол отражения немного
    больше угла падения, однако новое направление движения не может быть
    вертикальным;
  \item
    если шайба попадает в дальнюю треть лопатки, то угол отражения несколько
    меньше угла падения, но направление движения шайбы не может стать
    горизонтальным.
\end{itemize}
\item
  {\bf Шайба.} В начале игроку выделяется несколько шайб, однако в игре 
  постоянно участвует только одна шайба. Как только она падает на пол, в игру 
  включается следующая шайба.
\end{itemize}


\begin{figure}[ht]
\begin{center}
%\includegraphics[scale=0.9]{images/p3.eps}
\end{center}
\caption{Взаимодействие шайбы с лопаткой}\label{p3}
\end{figure}

\subsection{Действия игрока}
Игра начинается после нажатия игроком клавиши S (start). 
Игрок может выйти из игры в любой момент до того, как 
он выиграет или проиграет, он может приостановить игру (объявить <<паузу>>)
и возобновить её после этого.
Если игрок выигрывает, то на экран выводится поздравление, в противном
случае программа выражает ему своё сочувствие.

\endinput
